# Tercera Preentrega:

## Mejorando la arquitectura del servidor

### Objetivos generales

>✓ Profesionalizar el servidor

![alt text](./img/image.png)

### Objetivos específicos

>✓ Aplicar una arquitectura profesional 

![alt text](./img/image.png)

### Para nuestro servidor

>✓ Aplicar prácticas como patrones de diseño, mailing, variables de entorno. etc.

![alt text](./img/image-1.png)


![alt text](./img/image-2.png)

>Vista de Usuario:

![alt text](./img/image-3.png)

>Vista del carrito del Usuario cada usuario tiene un carrito asignado:

![alt text](./img/image-4.png)

> En compras finalizadas se pueden ver todas las compras de ese usuario:

![alt text](./img/image-5.png)

> Al realizar la compra nos da la opcion de enviar un mail con lo datos de la misma: 

![alt text](./img/image-6.png)

>y si le hacemos click:

![alt text](./img/image-7.png)

>la configuracion del mail esta dentro del mail.js:

![alt text](./img/image-13.png)

>Genere un Midleware para que verifique si es usuario o admin:

![alt text](./img/image-8.png)

![alt text](./img/image-12.png)

>Vista del admin es el unico que puede agregar productos y eliminarlos:

![alt text](./img/image-9.png)

>El admin puede ver todas las compras de todos los usuarios:

![alt text](./img/image-10.png)

>Se armo un modelo de tickets:

![alt text](./img/image-11.png)

>Por ultimo la persistencia mongodb/filesystem:

![alt text](./img/image-14.png)